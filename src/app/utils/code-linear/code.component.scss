// Importar tema base de Prism
@import "prismjs/themes/prism-tomorrow.css";

.markdown-container {
  width: 100%;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--border-color);
  background: var(--card-bg);
  animation: fadeInScale 0.6s ease;

  ::ng-deep {
    .code-display {
      background: transparent;

      pre {
        margin: 0;
        background: #1e1e1e !important;
        border-radius: 0;
        position: relative;

        &::before {
          content: 'TypeScript';
          position: absolute;
          top: 0;
          right: 0;
          background: var(--extra-color-tacao);
          color: #2d1810;
          padding: 0.5rem 1rem;
          font-size: 0.75rem;
          font-weight: 600;
          border-bottom-left-radius: 6px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
      }

      code {
        font-family: 'JetBrains Mono', 'Fira Code', Monaco, Consolas, monospace !important;
        font-size: 14px !important;
        line-height: 1.7 !important;
        padding: 2rem !important;
        display: block;
        background: #1e1e1e !important;
        color: #d4d4d4 !important;
      }

      // Syntax highlighting personalizado
      .token.keyword {
        color: #569cd6 !important;
        font-weight: 600 !important;
      }

      .token.function {
        color: #dcdcaa !important;
        font-weight: 600 !important;
      }

      .token.class-name,
      .token.builtin {
        color: #4ec9b0 !important;
      }

      .token.parameter {
        color: #9cdcfe !important;
      }

      .token.number {
        color: #b5cea8 !important;
      }

      .token.operator,
      .token.punctuation {
        color: #d4d4d4 !important;
      }

      .token.comment {
        color: #6a9955 !important;
        font-style: italic !important;
      }

      .token.string {
        color: #ce9178 !important;
      }

      .token.property {
        color: #9cdcfe !important;
      }

      // Numeración de líneas
      .line-numbers-rows {
        background: #252526 !important;
        border-right: 1px solid #404040 !important;
        padding-right: 1rem !important;

        > span::before {
          color: #858585 !important;
          font-family: 'JetBrains Mono', monospace !important;
        }
      }

      // Scrollbar personalizado
      pre::-webkit-scrollbar {
        height: 8px;
      }

      pre::-webkit-scrollbar-track {
        background: #252526;
      }

      pre::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;

        &:hover {
          background: var(--extra-color-tacao);
        }
      }
    }
  }
}

// Animaciones
@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// Responsive
@media (max-width: 768px) {
  .markdown-container {
    margin: 1rem;

    ::ng-deep {
      code {
        font-size: 12px !important;
        padding: 1rem !important;
      }
    }
  }
}
